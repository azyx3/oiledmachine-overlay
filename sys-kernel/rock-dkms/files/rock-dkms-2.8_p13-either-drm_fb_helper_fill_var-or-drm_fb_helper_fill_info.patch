--- a/amd/amdgpu/amdgpu_fb.c.orig	2019-10-03 02:40:23.544007016 -0700
+++ b/amd/amdgpu/amdgpu_fb.c	2019-10-03 03:42:05.998635921 -0700
@@ -277,7 +277,11 @@ static int amdgpufb_create(struct drm_fb
 	info->screen_base = amdgpu_bo_kptr(abo);
 	info->screen_size = amdgpu_bo_size(abo);
 
+#if DRM_VERSION_CODE < DRM_VERSION(5, 2, 0)
 	drm_fb_helper_fill_var(info, &rfbdev->helper, sizes->fb_width, sizes->fb_height);
+#else
+	drm_fb_helper_fill_info(info, &rfbdev->helper, sizes);
+#endif
 
 	/* setup aperture base/size for vesafb takeover */
 #if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 35)
