This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by amdgpu-dkms configure 19.40, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  $ /var/lib/dkms/amdgpu/3.1-44/build/amd/dkms/configure --with-linux=/usr/src/linux-5.4.25-ot

## --------- ##
## Platform. ##
## --------- ##

hostname = archlinux
uname -m = x86_64
uname -r = 5.4.24-ot
uname -s = Linux
uname -v = #1 SMP PREEMPT Mon Mar 9 23:50:24 PDT 2020

/usr/bin/uname -p = AMD Phenom(tm) 9850 Quad-Core Processor
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = unknown
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /sbin
PATH: /bin
PATH: /usr/sbin
PATH: /usr/bin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2262: checking for a BSD-compatible install
configure:2330: result: /usr/bin/install -c
configure:2389: checking for gcc
configure:2405: found /usr/bin/gcc
configure:2416: result: gcc
configure:2645: checking for C compiler version
configure:2654: gcc --version >&5
gcc (Gentoo 9.2.0-r2 p3) 9.2.0
Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:2665: $? = 0
configure:2654: gcc -v >&5
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=/usr/libexec/gcc/x86_64-pc-linux-gnu/9.2.0/lto-wrapper
Target: x86_64-pc-linux-gnu
Configured with: /var/tmp/portage/sys-devel/gcc-9.2.0-r2/work/gcc-9.2.0/configure --host=x86_64-pc-linux-gnu --build=x86_64-pc-linux-gnu --prefix=/usr --bindir=/usr/x86_64-pc-linux-gnu/gcc-bin/9.2.0 --includedir=/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/include --datadir=/usr/share/gcc-data/x86_64-pc-linux-gnu/9.2.0 --mandir=/usr/share/gcc-data/x86_64-pc-linux-gnu/9.2.0/man --infodir=/usr/share/gcc-data/x86_64-pc-linux-gnu/9.2.0/info --with-gxx-include-dir=/usr/lib/gcc/x86_64-pc-linux-gnu/9.2.0/include/g++-v9 --with-python-dir=/share/gcc-data/x86_64-pc-linux-gnu/9.2.0/python --enable-languages=c,c++,fortran --enable-obsolete --enable-secureplt --disable-werror --with-system-zlib --enable-nls --without-included-gettext --enable-checking=release --with-bugurl=https://bugs.gentoo.org/ --with-pkgversion='Gentoo 9.2.0-r2 p3' --disable-esp --enable-libstdcxx-time --enable-shared --enable-threads=posix --enable-__cxa_atexit --enable-clocale=gnu --enable-multilib --with-multilib-list=m32,m64 --disable-altivec --disable-fixed-point --enable-targets=all --enable-libgomp --disable-libmudflap --disable-libssp --disable-systemtap --enable-vtable-verify --enable-lto --without-isl --enable-default-pie --enable-default-ssp
Thread model: posix
gcc version 9.2.0 (Gentoo 9.2.0-r2 p3) 
configure:2665: $? = 0
configure:2654: gcc -V >&5
gcc: error: unrecognized command line option '-V'
gcc: fatal error: no input files
compilation terminated.
configure:2665: $? = 1
configure:2654: gcc -qversion >&5
gcc: error: unrecognized command line option '-qversion'; did you mean '--version'?
gcc: fatal error: no input files
compilation terminated.
configure:2665: $? = 1
configure:2685: checking whether the C compiler works
configure:2707: gcc    conftest.c  >&5
configure:2711: $? = 0
configure:2759: result: yes
configure:2762: checking for C compiler default output file name
configure:2764: result: a.out
configure:2770: checking for suffix of executables
configure:2777: gcc -o conftest    conftest.c  >&5
configure:2781: $? = 0
configure:2803: result: 
configure:2825: checking whether we are cross compiling
configure:2833: gcc -o conftest    conftest.c  >&5
configure:2837: $? = 0
configure:2844: ./conftest
configure:2848: $? = 0
configure:2863: result: no
configure:2868: checking for suffix of object files
configure:2890: gcc -c   conftest.c >&5
configure:2894: $? = 0
configure:2915: result: o
configure:2919: checking whether we are using the GNU C compiler
configure:2938: gcc -c   conftest.c >&5
configure:2938: $? = 0
configure:2947: result: yes
configure:2956: checking whether gcc accepts -g
configure:2976: gcc -c -g  conftest.c >&5
configure:2976: $? = 0
configure:3017: result: yes
configure:3034: checking for gcc option to accept ISO C89
configure:3097: gcc  -c -g -O2  conftest.c >&5
configure:3097: $? = 0
configure:3110: result: none needed
configure:3156: checking kernel source directory
configure:3199: result: /usr/src/linux-5.4.25-ot
configure:3210: checking kernel build directory
configure:3237: result: /usr/src/linux-5.4.25-ot
configure:3240: checking kernel source version
configure:3288: result: 5.4.25-ot
configure:3301: checking kernel file name for module symbols
configure:3330: result: Module.symvers
configure:3335: checking whether kallsyms_lookup_name() is available
configure:3373: cp conftest.c conftest.h build
configure:3376: $? = 0
configure:3379: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:3382: $? = 0
configure:3385: test -s build/conftest.o
configure:3388: $? = 0
configure:3391: result: yes
configure:3411: checking whether mmu_notifier_call_srcu() is available
configure:3449: cp conftest.c conftest.h build
configure:3452: $? = 0
configure:3455: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:17:3: error: implicit declaration of function ‘mmu_notifier_call_srcu’; did you mean ‘mmu_notifier_release’? [-Werror=implicit-function-declaration]
   17 |   mmu_notifier_call_srcu(NULL, NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~
      |   mmu_notifier_release
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:3458: $? = 2
configure:3461: test -s build/conftest.o
configure:3464: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| 
| 
| 		#include <linux/mmu_notifier.h>
| 
| int
| main (void)
| {
| 
| 		mmu_notifier_call_srcu(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:3477: result: no
configure:3487: checking whether in_compat_syscall is defined
configure:3527: cp conftest.c conftest.h build
configure:3530: $? = 0
configure:3533: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:3536: $? = 0
configure:3539: test -s build/conftest.o
configure:3542: $? = 0
configure:3545: result: yes
configure:3565: checking whether kobj_to_dev() is available
configure:3603: cp conftest.c conftest.h build
configure:3606: $? = 0
configure:3609: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:3612: $? = 0
configure:3615: test -s build/conftest.o
configure:3618: $? = 0
configure:3621: result: yes
configure:3641: checking whether devcgroup_check_permission() is available
configure:3680: cp conftest.c conftest.h build
configure:3683: $? = 0
configure:3686: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
WARNING: "__devcgroup_check_permission" [/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.ko] undefined!
configure:3689: $? = 0
configure:3692: test -s build/conftest.o
configure:3695: $? = 0
configure:3763: result: no
configure:3778: checking whether drm_encoder_find() wants file_priv
configure:3821: cp conftest.c conftest.h build
configure:3824: $? = 0
configure:3827: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:3830: $? = 0
configure:3833: test -s build/conftest.o
configure:3836: $? = 0
configure:3839: result: yes
configure:3860: checking whether drm_atomic_helper_best_encoder() is available
configure:3901: cp conftest.c conftest.h build
configure:3904: $? = 0
configure:3907: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:23:13: error: implicit declaration of function ‘drm_atomic_helper_best_encoder’; did you mean ‘drm_atomic_helper_suspend’? [-Werror=implicit-function-declaration]
   23 |   encoder = drm_atomic_helper_best_encoder(connector);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |             drm_atomic_helper_suspend
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:23:11: error: assignment to ‘struct drm_encoder *’ from ‘int’ makes pointer from integer without a cast [-Werror=int-conversion]
   23 |   encoder = drm_atomic_helper_best_encoder(connector);
      |           ^
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:3910: $? = 2
configure:3913: test -s build/conftest.o
configure:3916: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| 
| 
| 		#include <drm/drm_atomic_helper.h>
| 
| int
| main (void)
| {
| 
| 		struct drm_connector *connector = NULL;
| 		struct drm_encoder *encoder = NULL;
| 
| 		encoder = drm_atomic_helper_best_encoder(connector);
| 
|   ;
|   return 0;
| }
| 
configure:3930: result: no
configure:3941: checking whether drm_edid_to_eld() are available
configure:3980: cp conftest.c conftest.h build
configure:3983: $? = 0
configure:3986: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:20:3: error: implicit declaration of function ‘drm_edid_to_eld’; did you mean ‘drm_edid_to_sad’? [-Werror=implicit-function-declaration]
   20 |   drm_edid_to_eld(NULL, NULL);
      |   ^~~~~~~~~~~~~~~
      |   drm_edid_to_sad
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:3989: $? = 2
configure:3992: test -s build/conftest.o
configure:3995: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| 
| 
| 		#include <drm/drm_edid.h>
| 
| int
| main (void)
| {
| 
| 		drm_edid_to_eld(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:4010: result: no
configure:4079: checking whether drm_need_swiotlb() is available
configure:4117: cp conftest.c conftest.h build
configure:4120: $? = 0
configure:4123: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4126: $? = 0
configure:4129: test -s build/conftest.o
configure:4132: $? = 0
configure:4135: result: yes
configure:4157: checking whether drm_connector_put() is available
configure:4195: cp conftest.c conftest.h build
configure:4198: $? = 0
configure:4201: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4204: $? = 0
configure:4207: test -s build/conftest.o
configure:4210: $? = 0
configure:4213: result: yes
configure:4309: checking whether drm_connector_for_each_possible_encoder() wants 2 arguments
configure:4351: cp conftest.c conftest.h build
configure:4354: $? = 0
configure:4357: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:61: error: macro "drm_connector_for_each_possible_encoder" requires 3 arguments, but only 2 given
   25 |   drm_connector_for_each_possible_encoder(connector, encoder)
      |                                                             ^
In file included from ./include/drm/drm_modes.h:33,
                 from ./include/drm/drm_crtc.h:40,
                 from ./include/drm/drm_encoder.h:28,
                 from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:16:
./include/drm/drm_connector.h:1613: note: macro "drm_connector_for_each_possible_encoder" defined here
 1613 | #define drm_connector_for_each_possible_encoder(connector, encoder, __i) \
      | 
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:3: error: ‘drm_connector_for_each_possible_encoder’ undeclared (first use in this function); did you mean ‘drm_connector_has_possible_encoder’?
   25 |   drm_connector_for_each_possible_encoder(connector, encoder)
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   drm_connector_has_possible_encoder
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:3: note: each undeclared identifier is reported only once for each function it appears in
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:42: error: expected ‘;’ before ‘return’
   25 |   drm_connector_for_each_possible_encoder(connector, encoder)
      |                                          ^
      |                                          ;
   26 |    return 0;
      |    ~~~~~~                                 
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:24:23: warning: unused variable ‘encoder’ [-Wunused-variable]
   24 |   struct drm_encoder *encoder = NULL;
      |                       ^~~~~~~
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:23:25: warning: unused variable ‘connector’ [-Wunused-variable]
   23 |   struct drm_connector *connector = NULL;
      |                         ^~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:4360: $? = 2
configure:4363: test -s build/conftest.o
configure:4366: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| 
| 
| 		#include <drm/drm_encoder.h>
| 		#include <drm/drm_connector.h>
| 
| int
| main (void)
| {
| 
| 		struct drm_connector *connector = NULL;
| 		struct drm_encoder *encoder = NULL;
| 		drm_connector_for_each_possible_encoder(connector, encoder)
| 			return 0;
| 
|   ;
|   return 0;
| }
| 
configure:4379: result: no
configure:4389: checking whether drm_connector_update_edid_property() is available
configure:4428: cp conftest.c conftest.h build
configure:4431: $? = 0
configure:4434: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4437: $? = 0
configure:4440: test -s build/conftest.o
configure:4443: $? = 0
configure:4516: result: yes
configure:4526: checking whether drm_connector_attach_encoder() is available
configure:4565: cp conftest.c conftest.h build
configure:4568: $? = 0
configure:4571: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4574: $? = 0
configure:4577: test -s build/conftest.o
configure:4580: $? = 0
configure:4653: result: yes
configure:4663: checking whether drm_connector_set_path_property) is available
configure:4702: cp conftest.c conftest.h build
configure:4705: $? = 0
configure:4708: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4711: $? = 0
configure:4714: test -s build/conftest.o
configure:4717: $? = 0
configure:4790: result: yes
configure:4800: checking whether drm_dp_cec_register_connector() wants p,p interface
configure:4838: cp conftest.c conftest.h build
configure:4841: $? = 0
configure:4844: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:3: error: too few arguments to function ‘drm_dp_cec_register_connector’
   25 |   drm_dp_cec_register_connector(NULL, NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:19:
./include/drm/drm_dp_helper.h:1464:20: note: declared here
 1464 | static inline void drm_dp_cec_register_connector(struct drm_dp_aux *aux,
      |                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:4847: $? = 2
configure:4850: test -s build/conftest.o
configure:4853: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| 
| 
| 		#include <drm/drm_dp_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_cec_register_connector(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:4869: result: no
configure:4871: checking whether drm_dp_cec* correlation functions are available
configure:4913: cp conftest.c conftest.h build
configure:4916: $? = 0
configure:4919: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:4922: $? = 0
configure:4925: test -s build/conftest.o
configure:4928: $? = 0
configure:4931: result: yes
configure:4958: checking whether drm_modeset_lock_all_ctx() is available
configure:4997: cp conftest.c conftest.h build
configure:5000: $? = 0
configure:5003: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:5006: $? = 0
configure:5009: test -s build/conftest.o
configure:5012: $? = 0
configure:5085: result: yes
configure:5095: checking whether drm_atomic_helper_disable_all() is available
configure:5134: cp conftest.c conftest.h build
configure:5137: $? = 0
configure:5140: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:5143: $? = 0
configure:5146: test -s build/conftest.o
configure:5149: $? = 0
configure:5222: result: yes
configure:5232: checking whether drm_atomic_helper_duplicate_state() is available
configure:5271: cp conftest.c conftest.h build
configure:5274: $? = 0
configure:5277: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:5280: $? = 0
configure:5283: test -s build/conftest.o
configure:5286: $? = 0
configure:5359: result: yes
configure:5369: checking whether drm_atomic_helper_suspend() is available
configure:5409: cp conftest.c conftest.h build
configure:5412: $? = 0
configure:5415: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:5418: $? = 0
configure:5421: test -s build/conftest.o
configure:5424: $? = 0
configure:5497: result: yes
configure:5507: checking whether drm_crtc_force_disable_all() is available
configure:5546: cp conftest.c conftest.h build
configure:5549: $? = 0
configure:5552: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:30:3: error: implicit declaration of function ‘drm_crtc_force_disable_all’; did you mean ‘drm_plane_force_disable’? [-Werror=implicit-function-declaration]
   30 |   drm_crtc_force_disable_all(NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~
      |   drm_plane_force_disable
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:5555: $? = 2
configure:5558: test -s build/conftest.o
configure:5561: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| 
| 
| 		#include <drm/drm_crtc.h>
| 
| int
| main (void)
| {
| 
| 		drm_crtc_force_disable_all(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:5576: result: no
configure:5644: checking whether drm_fb_helper_remove_conflicting_pci_framebuffers() wants p,p args
configure:5690: cp conftest.c conftest.h build
configure:5693: $? = 0
configure:5696: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
In file included from ./include/uapi/linux/posix_types.h:5,
                 from ./include/uapi/linux/types.h:14,
                 from ./include/linux/types.h:6,
                 from ./include/linux/list.h:5,
                 from ./include/linux/agp_backend.h:33,
                 from ./include/drm/drmP.h:35,
                 from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:24:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
./include/linux/stddef.h:8:14: error: passing argument 2 of ‘drm_fb_helper_remove_conflicting_pci_framebuffers’ makes integer from pointer without a cast [-Werror=int-conversion]
    8 | #define NULL ((void *)0)
      |              ^~~~~~~~~~~
      |              |
      |              void *
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:31:60: note: in expansion of macro ‘NULL’
   31 |    drm_fb_helper_remove_conflicting_pci_framebuffers(NULL, NULL);
      |                                                            ^~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:
./include/drm/drm_fb_helper.h:553:13: note: expected ‘int’ but argument is of type ‘void *’
  553 |         int resource_id,
      |         ~~~~^~~~~~~~~~~
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:31:4: error: too few arguments to function ‘drm_fb_helper_remove_conflicting_pci_framebuffers’
   31 |    drm_fb_helper_remove_conflicting_pci_framebuffers(NULL, NULL);
      |    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:25:
./include/drm/drm_fb_helper.h:552:1: note: declared here
  552 | drm_fb_helper_remove_conflicting_pci_framebuffers(struct pci_dev *pdev,
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:5699: $? = 2
configure:5702: test -s build/conftest.o
configure:5705: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| 
| 
| 			#include <drm/drmP.h>
| 			#include <drm/drm_fb_helper.h>
| 
| int
| main (void)
| {
| 
| 			drm_fb_helper_remove_conflicting_pci_framebuffers(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:5721: result: no
configure:5723: checking whether drm_fb_helper_remove_conflicting_pci_framebuffers() wants p,i,p args
configure:5762: cp conftest.c conftest.h build
configure:5765: $? = 0
configure:5768: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:5771: $? = 0
configure:5774: test -s build/conftest.o
configure:5777: $? = 0
configure:5780: result: yes
configure:5963: checking whether drm_encoder_init() wants name
configure:5972: result: yes
configure:6062: checking whether drm_crtc_init_with_planes() wants name
configure:6101: cp conftest.c conftest.h build
configure:6104: $? = 0
configure:6107: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:6110: $? = 0
configure:6113: test -s build/conftest.o
configure:6116: $? = 0
configure:6119: result: yes
configure:6140: checking whether drm_universal_plane_init() wants 9 args
configure:6179: cp conftest.c conftest.h build
configure:6182: $? = 0
configure:6185: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:6188: $? = 0
configure:6191: test -s build/conftest.o
configure:6194: $? = 0
configure:6551: result: yes
configure:6561: checking whether drm_get_format_name() has i,p interface
configure:6601: cp conftest.c conftest.h build
configure:6604: $? = 0
configure:6607: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:6610: $? = 0
configure:6613: test -s build/conftest.o
configure:6616: $? = 0
configure:6689: result: yes
configure:6699: checking whether drm_gem_object_put_unlocked() is available
configure:6738: cp conftest.c conftest.h build
configure:6741: $? = 0
configure:6744: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:6747: $? = 0
configure:6750: test -s build/conftest.o
configure:6753: $? = 0
configure:6826: result: yes
configure:6836: checking whether drm/drm_auth.h is available
configure:6852: result: yes
configure:6954: checking whether __drm_atomic_helper_connector_reset() is available
configure:6993: cp conftest.c conftest.h build
configure:6996: $? = 0
configure:6999: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:7002: $? = 0
configure:7005: test -s build/conftest.o
configure:7008: $? = 0
configure:7081: result: yes
configure:7091: checking whether drm_get_max_iomem() is available
configure:7131: cp conftest.c conftest.h build
configure:7134: $? = 0
configure:7137: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:40:10: error: implicit declaration of function ‘drm_get_max_iomem’ [-Werror=implicit-function-declaration]
   40 |   addr = drm_get_max_iomem();
      |          ^~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:7140: $? = 2
configure:7143: test -s build/conftest.o
configure:7146: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| 
| 
| 		#include <drm/drm_cache.h>
| 
| int
| main (void)
| {
| 
| 		u64 addr;
| 		addr = drm_get_max_iomem();
| 
|   ;
|   return 0;
| }
| 
configure:7161: result: no
configure:7229: checking whether CHUNK_ID_SYNOBJ_IN_OUT is defined
configure:7270: cp conftest.c conftest.h build
configure:7273: $? = 0
configure:7276: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:7279: $? = 0
configure:7282: test -s build/conftest.o
configure:7285: $? = 0
configure:7288: result: yes
configure:7308: checking whether CHUNK_ID_SCHEDULED_DEPENDENCIES is defined
configure:7348: cp conftest.c conftest.h build
configure:7351: $? = 0
configure:7354: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:7357: $? = 0
configure:7360: test -s build/conftest.o
configure:7363: $? = 0
configure:7366: result: yes
configure:7386: checking whether CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL is defined
configure:7427: cp conftest.c conftest.h build
configure:7430: $? = 0
configure:7433: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:7436: $? = 0
configure:7439: test -s build/conftest.o
configure:7442: $? = 0
configure:7445: result: yes
configure:7466: checking whether drm_syncobj_find_fence() is available
configure:7887: result: yes
configure:7892: checking whether drm_syncobj_find_fence() wants 5 args
configure:7931: cp conftest.c conftest.h build
configure:7934: $? = 0
configure:7937: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:7940: $? = 0
configure:7943: test -s build/conftest.o
configure:7946: $? = 0
configure:7949: result: yes
configure:8124: checking whether drm_send_event_locked() function is available
configure:8133: result: yes
configure:8283: checking whether drm_color_lut structure is defined
configure:8322: cp conftest.c conftest.h build
configure:8325: $? = 0
configure:8328: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8331: $? = 0
configure:8334: test -s build/conftest.o
configure:8337: $? = 0
configure:8340: result: yes
configure:8346: checking whether drm_color_lut_size() is available
configure:8388: cp conftest.c conftest.h build
configure:8391: $? = 0
configure:8394: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8397: $? = 0
configure:8400: test -s build/conftest.o
configure:8403: $? = 0
configure:8406: result: yes
configure:8441: checking whether drm_atomic_get_old_crtc_state() and drm_atomic_get_new_crtc_state() are available
configure:8484: cp conftest.c conftest.h build
configure:8487: $? = 0
configure:8490: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8493: $? = 0
configure:8496: test -s build/conftest.o
configure:8499: $? = 0
configure:8502: result: yes
configure:8601: checking whether drm_atomic_get_new_plane_state() is available
configure:8643: cp conftest.c conftest.h build
configure:8646: $? = 0
configure:8649: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8652: $? = 0
configure:8655: test -s build/conftest.o
configure:8658: $? = 0
configure:8661: result: yes
configure:8681: checking whether drm_fb_helper_fill_info() is available
configure:8727: cp conftest.c conftest.h build
configure:8730: $? = 0
configure:8733: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8736: $? = 0
configure:8739: test -s build/conftest.o
configure:8742: $? = 0
configure:8745: result: yes
configure:8779: checking whether drm_dev_put() is available
configure:8826: cp conftest.c conftest.h build
configure:8829: $? = 0
configure:8832: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:8835: $? = 0
configure:8838: test -s build/conftest.o
configure:8841: $? = 0
configure:8914: result: yes
configure:8938: checking whether get_scanout_position return bool
configure:8991: cp conftest.c conftest.h build
configure:8994: $? = 0
configure:8997: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:9000: $? = 0
configure:9003: test -s build/conftest.o
configure:9006: $? = 0
configure:9009: result: yes
configure:9298: checking whether get_vblank_timestamp has ktime_t arg
configure:9351: cp conftest.c conftest.h build
configure:9354: $? = 0
configure:9357: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:9360: $? = 0
configure:9363: test -s build/conftest.o
configure:9366: $? = 0
configure:9369: result: yes
configure:9569: checking whether drm_calc_vbltimestamp_from_scanoutpos() use ktime_t arg
configure:9615: cp conftest.c conftest.h build
configure:9618: $? = 0
configure:9621: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:9624: $? = 0
configure:9627: test -s build/conftest.o
configure:9630: $? = 0
configure:11607: result: yes
configure:11632: checking whether drm_mm_print() is available
configure:11670: cp conftest.c conftest.h build
configure:11673: $? = 0
configure:11676: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:11679: $? = 0
configure:11682: test -s build/conftest.o
configure:11685: $? = 0
configure:11688: result: yes
configure:11708: checking whether drm_debug_printer() function is available
configure:11746: cp conftest.c conftest.h build
configure:11749: $? = 0
configure:11752: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:11755: $? = 0
configure:11758: test -s build/conftest.o
configure:11761: $? = 0
configure:11764: result: yes
configure:11784: checking whether drm_fb_helper_cfb_{fillrect/copyarea/imageblit}() is available
configure:11832: cp conftest.c conftest.h build
configure:11835: $? = 0
configure:11838: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:11841: $? = 0
configure:11844: test -s build/conftest.o
configure:11847: $? = 0
configure:11850: result: yes
configure:11884: checking whether fb_info_apertures() is available
configure:11923: cp conftest.c conftest.h build
configure:11926: $? = 0
configure:11929: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:11932: $? = 0
configure:11935: test -s build/conftest.o
configure:11938: $? = 0
configure:11941: result: yes
configure:11961: checking whether drm_fb_helper_{alloc/unregister}_fbi() is available
configure:12008: cp conftest.c conftest.h build
configure:12011: $? = 0
configure:12014: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12017: $? = 0
configure:12020: test -s build/conftest.o
configure:12023: $? = 0
configure:12026: result: yes
configure:12060: checking whether drm_fb_helper_set_suspend_unlocked() is available
configure:12106: cp conftest.c conftest.h build
configure:12109: $? = 0
configure:12112: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12115: $? = 0
configure:12118: test -s build/conftest.o
configure:12121: $? = 0
configure:12124: result: yes
configure:12158: checking whether drm_atomic_state->plane_states is available
configure:12197: cp conftest.c conftest.h build
configure:12200: $? = 0
configure:12203: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:62:8: error: dereferencing pointer to incomplete type ‘struct drm_atomic_state’
   62 |   ptest->plane_states = NULL;
      |        ^~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:12206: $? = 2
configure:12209: test -s build/conftest.o
configure:12212: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| 
| 
| 		#include <drm/drm_crtc.h>
| 
| int
| main (void)
| {
| 
| 		struct drm_atomic_state *ptest = NULL;
| 		ptest->plane_states = NULL;
| 
|   ;
|   return 0;
| }
| 
configure:12262: cp conftest.c conftest.h build
configure:12265: $? = 0
configure:12268: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:62:9: error: ‘struct drm_atomic_state’ has no member named ‘plane_states’
   62 |    ptest->plane_states = NULL;
      |         ^~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:12271: $? = 2
configure:12274: test -s build/conftest.o
configure:12277: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| 
| 
| 			#include <drm/drm_atomic.h>
| 
| int
| main (void)
| {
| 
| 			struct drm_atomic_state *ptest = NULL;
| 			ptest->plane_states = NULL;
| 
|   ;
|   return 0;
| }
| 
configure:12290: result: no
configure:12307: checking whether drm_atomic_helper_update_legacy_modeset_state() is available
configure:12346: cp conftest.c conftest.h build
configure:12349: $? = 0
configure:12352: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12355: $? = 0
configure:12358: test -s build/conftest.o
configure:12361: $? = 0
configure:12434: result: yes
configure:12452: checking whether drm_crtc_accurate_vblank_count() is available
configure:12490: cp conftest.c conftest.h build
configure:12493: $? = 0
configure:12496: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12499: $? = 0
configure:12502: test -s build/conftest.o
configure:12505: $? = 0
configure:12508: result: yes
configure:12637: checking whether drm_mode_is_420_xxx() is available
configure:12677: cp conftest.c conftest.h build
configure:12680: $? = 0
configure:12683: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12686: $? = 0
configure:12689: test -s build/conftest.o
configure:12692: $? = 0
configure:12765: result: yes
configure:12775: checking whether fb_ops->fb_debug_xx is available
configure:12823: cp conftest.c conftest.h build
configure:12826: $? = 0
configure:12829: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12832: $? = 0
configure:12835: test -s build/conftest.o
configure:12838: $? = 0
configure:12841: result: yes
configure:12875: checking whether drm_vma_node_verify_access() 2nd argument is drm_file
configure:12915: cp conftest.c conftest.h build
configure:12918: $? = 0
configure:12921: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:12924: $? = 0
configure:12927: test -s build/conftest.o
configure:12930: $? = 0
configure:12933: result: yes
configure:12953: checking whether fence is renamed to dma_fence
configure:12962: result: yes
configure:12968: checking whether dma_fence_set_error() is available
configure:13006: cp conftest.c conftest.h build
configure:13009: $? = 0
configure:13012: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13015: $? = 0
configure:13018: test -s build/conftest.o
configure:13021: $? = 0
configure:13024: result: yes
configure:13044: checking whether dma_fence_get_stub exits
configure:13082: cp conftest.c conftest.h build
configure:13085: $? = 0
configure:13088: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13091: $? = 0
configure:13094: test -s build/conftest.o
configure:13097: $? = 0
configure:13100: result: yes
configure:13157: checking whether request_firmware_direct() is available
configure:13195: cp conftest.c conftest.h build
configure:13198: $? = 0
configure:13201: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13204: $? = 0
configure:13207: test -s build/conftest.o
configure:13210: $? = 0
configure:13213: result: yes
configure:13234: checking whether kmap_atomic() have one argument
configure:13272: cp conftest.c conftest.h build
configure:13275: $? = 0
configure:13278: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13281: $? = 0
configure:13284: test -s build/conftest.o
configure:13287: $? = 0
configure:13290: result: yes
configure:13310: checking whether hwmon_device_register_with_groups() is available
configure:13350: cp conftest.c conftest.h build
configure:13353: $? = 0
configure:13356: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13359: $? = 0
configure:13362: test -s build/conftest.o
configure:13365: $? = 0
configure:13438: result: yes
configure:13448: checking whether arch_io_{reserve/free}_memtype_wc() are available
configure:13708: cp conftest.c conftest.h build
configure:13711: $? = 0
configure:13714: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13717: $? = 0
configure:13720: test -s build/conftest.o
configure:13723: $? = 0
configure:13796: result: yes
configure:13811: checking whether kref_read() function is available
configure:13849: cp conftest.c conftest.h build
configure:13852: $? = 0
configure:13855: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:13858: $? = 0
configure:13861: test -s build/conftest.o
configure:13864: $? = 0
configure:13867: result: yes
configure:13887: checking whether kthread_{park/unpark/parkme/should_park}() is available
configure:13943: result: yes
configure:13952: checking whether __kthread_should_park() is available
configure:14008: result: yes
configure:14017: checking whether list_bulk_move_tail() is available
configure:14055: cp conftest.c conftest.h build
configure:14058: $? = 0
configure:14061: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14064: $? = 0
configure:14067: test -s build/conftest.o
configure:14070: $? = 0
configure:14073: result: yes
configure:14094: checking whether drm_calloc_large() is available
configure:14139: cp conftest.c conftest.h build
configure:14142: $? = 0
configure:14145: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:78:12: fatal error: drm/drm_mem_util.h: No such file or directory
   78 |   #include <drm/drm_mem_util.h>
      |            ^~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:14148: $? = 2
configure:14151: test -s build/conftest.o
configure:14154: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| 
| 
| 		#include <linux/kernel.h>
| 		#ifndef SIZE_MAX
| 		#define SIZE_MAX (~0UL)
| 		#endif
| 		#include <linux/device.h>
| 		#include <linux/mm.h>
| 		#include <linux/slab.h>
| 		#include <drm/drm_mem_util.h>
| 
| int
| main (void)
| {
| 
| 		drm_calloc_large(8, 8);
| 
|   ;
|   return 0;
| }
| 
configure:14167: result: no
configure:14178: checking whether drm_free_large() is available
configure:14222: cp conftest.c conftest.h build
configure:14225: $? = 0
configure:14228: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:77:12: fatal error: drm/drm_mem_util.h: No such file or directory
   77 |   #include <drm/drm_mem_util.h>
      |            ^~~~~~~~~~~~~~~~~~~~
compilation terminated.
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:14231: $? = 2
configure:14234: test -s build/conftest.o
configure:14237: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| 
| 
| 		#include <linux/kernel.h>
| 		#ifndef SIZE_MAX
| 		#define SIZE_MAX (~0UL)
| 		#endif
| 		#include <linux/slab.h>
| 		#include <linux/mm.h>
| 		#include <drm/drm_mem_util.h>
| 
| int
| main (void)
| {
| 
| 		drm_free_large(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:14250: result: no
configure:14261: checking whether drm_malloc_ab() is available
configure:14306: cp conftest.c conftest.h build
configure:14309: $? = 0
configure:14312: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:77:4: error: implicit declaration of function ‘drm_malloc_ab’ [-Werror=implicit-function-declaration]
   77 |    drm_malloc_ab(0, 0);
      |    ^~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:14315: $? = 2
configure:14318: test -s build/conftest.o
configure:14321: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| 
| 
| 			#include <drm/drmP.h>
| 
| int
| main (void)
| {
| 
| 			drm_malloc_ab(0, 0);
| 
|   ;
|   return 0;
| }
| 
configure:14334: result: no
configure:14356: checking whether kvcalloc() function is available
configure:14394: cp conftest.c conftest.h build
configure:14397: $? = 0
configure:14400: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14403: $? = 0
configure:14406: test -s build/conftest.o
configure:14409: $? = 0
configure:14412: result: yes
configure:14433: checking whether kvfree() function is available
configure:14472: cp conftest.c conftest.h build
configure:14475: $? = 0
configure:14478: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14481: $? = 0
configure:14484: test -s build/conftest.o
configure:14487: $? = 0
configure:14560: result: yes
configure:14571: checking whether kvmalloc_array() function is available
configure:14609: cp conftest.c conftest.h build
configure:14612: $? = 0
configure:14615: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14618: $? = 0
configure:14621: test -s build/conftest.o
configure:14624: $? = 0
configure:14627: result: yes
configure:14648: checking whether kvmzalloc() functions are available
configure:14687: cp conftest.c conftest.h build
configure:14690: $? = 0
configure:14693: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14696: $? = 0
configure:14699: test -s build/conftest.o
configure:14702: $? = 0
configure:14705: result: yes
configure:14725: checking whether mm_access() is available
configure:14775: result: no
configure:14790: checking whether memalloc_nofs_{save,restore}() are available
configure:14829: cp conftest.c conftest.h build
configure:14832: $? = 0
configure:14835: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:14838: $? = 0
configure:14841: test -s build/conftest.o
configure:14844: $? = 0
configure:14847: result: yes
configure:15108: checking whether mmgrab() is available in linux/sched/mm.h
configure:15146: cp conftest.c conftest.h build
configure:15149: $? = 0
configure:15152: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:15155: $? = 0
configure:15158: test -s build/conftest.o
configure:15161: $? = 0
configure:15164: result: yes
configure:15777: checking whether get_user_pages() wants 5 args
configure:15816: cp conftest.c conftest.h build
configure:15819: $? = 0
configure:15822: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:15825: $? = 0
configure:15828: test -s build/conftest.o
configure:15831: $? = 0
configure:16188: result: yes
configure:16700: checking whether get_user_pages_remote() wants 8 args
configure:16739: cp conftest.c conftest.h build
configure:16742: $? = 0
configure:16745: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:16748: $? = 0
configure:16751: test -s build/conftest.o
configure:16754: $? = 0
configure:17095: result: yes
configure:17111: checking whether pfn_t type is defined
configure:17150: cp conftest.c conftest.h build
configure:17153: $? = 0
configure:17156: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17159: $? = 0
configure:17162: test -s build/conftest.o
configure:17165: $? = 0
configure:17168: result: yes
configure:17174: checking whether vmf_insert_*() functions are available
configure:17214: cp conftest.c conftest.h build
configure:17217: $? = 0
configure:17220: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17223: $? = 0
configure:17226: test -s build/conftest.o
configure:17229: $? = 0
configure:17232: result: yes
configure:17404: checking whether mmu_notifier_range_blockable() is available
configure:17442: cp conftest.c conftest.h build
configure:17445: $? = 0
configure:17448: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17451: $? = 0
configure:17454: test -s build/conftest.o
configure:17457: $? = 0
configure:17460: result: yes
configure:17480: checking whether release_pages() wants 2 args
configure:17522: cp conftest.c conftest.h build
configure:17525: $? = 0
configure:17528: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17531: $? = 0
configure:17534: test -s build/conftest.o
configure:17537: $? = 0
configure:17610: result: yes
configure:17620: checking whether pcie_get_speed_cap() and pcie_get_width_cap() exist
configure:17676: result: yes
configure:17685: checking whether pci_enable_atomic_ops_to_root() exist
configure:17724: cp conftest.c conftest.h build
configure:17727: $? = 0
configure:17730: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17733: $? = 0
configure:17736: test -s build/conftest.o
configure:17739: $? = 0
configure:17812: result: yes
configure:17822: checking whether pci_upstream_bridge() is available
configure:17860: cp conftest.c conftest.h build
configure:17863: $? = 0
configure:17866: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17869: $? = 0
configure:17872: test -s build/conftest.o
configure:17875: $? = 0
configure:17878: result: yes
configure:17898: checking whether pcie_bandwidth_available() is available
configure:17937: cp conftest.c conftest.h build
configure:17940: $? = 0
configure:17943: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:17946: $? = 0
configure:17949: test -s build/conftest.o
configure:17952: $? = 0
configure:18025: result: yes
configure:18036: checking whether pci_dev_id() is available
configure:18074: cp conftest.c conftest.h build
configure:18077: $? = 0
configure:18080: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18083: $? = 0
configure:18086: test -s build/conftest.o
configure:18089: $? = 0
configure:18092: result: yes
configure:18112: checking whether perf_event_update_userpage is exported
configure:18168: result: yes
configure:18177: checking whether ptrace_parent() is available
configure:18215: cp conftest.c conftest.h build
configure:18218: $? = 0
configure:18221: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18224: $? = 0
configure:18227: test -s build/conftest.o
configure:18230: $? = 0
configure:18233: result: yes
configure:18254: checking whether register_shrinker() returns integer
configure:18514: cp conftest.c conftest.h build
configure:18517: $? = 0
configure:18520: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18523: $? = 0
configure:18526: test -s build/conftest.o
configure:18529: $? = 0
configure:18602: result: yes
configure:18617: checking whether ksys_sync_helper() function is available
configure:18655: cp conftest.c conftest.h build
configure:18658: $? = 0
configure:18661: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18664: $? = 0
configure:18667: test -s build/conftest.o
configure:18670: $? = 0
configure:18673: result: yes
configure:18693: checking whether ktime_get_raw_ns() is available
configure:18732: cp conftest.c conftest.h build
configure:18735: $? = 0
configure:18738: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18741: $? = 0
configure:18744: test -s build/conftest.o
configure:18747: $? = 0
configure:18750: result: yes
configure:18770: checking whether ktime_get_boottime_ns() is available
configure:18808: cp conftest.c conftest.h build
configure:18811: $? = 0
configure:18814: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:18817: $? = 0
configure:18820: test -s build/conftest.o
configure:18823: $? = 0
configure:18826: result: yes
configure:19152: checking whether ktime_get_real_seconds() is available
configure:19192: cp conftest.c conftest.h build
configure:19195: $? = 0
configure:19198: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:19201: $? = 0
configure:19204: test -s build/conftest.o
configure:19207: $? = 0
configure:19280: result: yes
configure:19295: checking whether access_ok(x, x) is available
configure:19333: cp conftest.c conftest.h build
configure:19336: $? = 0
configure:19339: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:19342: $? = 0
configure:19345: test -s build/conftest.o
configure:19348: $? = 0
configure:19351: result: yes
configure:19371: checking whether vga_switcheroo_set_dynamic_switch() exist
configure:19409: cp conftest.c conftest.h build
configure:19412: $? = 0
configure:19415: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:103:3: error: implicit declaration of function ‘vga_switcheroo_set_dynamic_switch’; did you mean ‘vga_switcheroo_process_delayed_switch’? [-Werror=implicit-function-declaration]
  103 |   vga_switcheroo_set_dynamic_switch(NULL, 0);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   vga_switcheroo_process_delayed_switch
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:19418: $? = 2
configure:19421: test -s build/conftest.o
configure:19424: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| 
| 
| 		#include <linux/vga_switcheroo.h>
| 
| int
| main (void)
| {
| 
| 		vga_switcheroo_set_dynamic_switch(NULL, 0);
| 
|   ;
|   return 0;
| }
| 
configure:19437: result: no
configure:19448: checking whether vga_switeroo_register_handler() has p,e interface
configure:19486: cp conftest.c conftest.h build
configure:19489: $? = 0
configure:19492: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:19495: $? = 0
configure:19498: test -s build/conftest.o
configure:19501: $? = 0
configure:19504: result: yes
configure:19603: checking whether vga_switcheroo_handler->get_client_id() return int
configure:19645: cp conftest.c conftest.h build
configure:19648: $? = 0
configure:19651: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:109:26: error: assignment to ‘enum vga_switcheroo_client_id (*)(struct pci_dev *)’ from incompatible pointer type ‘int (*)(struct pci_dev *)’ [-Werror=incompatible-pointer-types]
  109 |   handler->get_client_id = test_get_client_id;
      |                          ^
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:19654: $? = 2
configure:19657: test -s build/conftest.o
configure:19660: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| 
| 
| 		#include <linux/vga_switcheroo.h>
| 		int test_get_client_id(struct pci_dev *pdev) {
| 			return 0;
| 		}
| 
| int
| main (void)
| {
| 
| 		struct vga_switcheroo_handler *handler = NULL;
| 		handler->get_client_id = test_get_client_id;
| 
|   ;
|   return 0;
| }
| 
configure:19673: result: no
configure:19684: checking whether vga_switcheroo_register_client() has p,p,b interface
configure:19722: cp conftest.c conftest.h build
configure:19725: $? = 0
configure:19728: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:19731: $? = 0
configure:19734: test -s build/conftest.o
configure:19737: $? = 0
configure:19740: result: yes
configure:19917: checking whether wait_queue_entry_t exists
configure:19958: cp conftest.c conftest.h build
configure:19961: $? = 0
configure:19964: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:19967: $? = 0
configure:19970: test -s build/conftest.o
configure:19973: $? = 0
configure:19976: result: yes
configure:19997: checking whether system_highpri_wq is exported
configure:20128: result: yes
configure:20133: checking whether system_highpri_wq is declared
configure:20171: cp conftest.c conftest.h build
configure:20174: $? = 0
configure:20177: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20180: $? = 0
configure:20183: test -s build/conftest.o
configure:20186: $? = 0
configure:20189: result: yes
configure:20212: checking whether struct drm_framebuffer have format
configure:20259: cp conftest.c conftest.h build
configure:20262: $? = 0
configure:20265: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20268: $? = 0
configure:20271: test -s build/conftest.o
configure:20274: $? = 0
configure:20277: result: yes
configure:20311: checking whether timer_setup() is available
configure:20349: cp conftest.c conftest.h build
configure:20352: $? = 0
configure:20355: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20358: $? = 0
configure:20361: test -s build/conftest.o
configure:20364: $? = 0
configure:20367: result: yes
configure:20387: checking whether pci_is_thunderbolt_attached() is available
configure:20427: cp conftest.c conftest.h build
configure:20430: $? = 0
configure:20433: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20436: $? = 0
configure:20439: test -s build/conftest.o
configure:20442: $? = 0
configure:20445: result: yes
configure:20466: checking whether pci_pcie_type() exist
configure:20504: cp conftest.c conftest.h build
configure:20507: $? = 0
configure:20510: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20513: $? = 0
configure:20516: test -s build/conftest.o
configure:20519: $? = 0
configure:20522: result: yes
configure:20542: checking whether dma_fence_get_stub exits
configure:20580: cp conftest.c conftest.h build
configure:20583: $? = 0
configure:20586: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20589: $? = 0
configure:20592: test -s build/conftest.o
configure:20595: $? = 0
configure:20598: result: yes
configure:20619: checking whether invalidate_range_start() wants 2 args
configure:20658: cp conftest.c conftest.h build
configure:20661: $? = 0
configure:20664: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20667: $? = 0
configure:20670: test -s build/conftest.o
configure:20673: $? = 0
configure:20676: result: yes
configure:20772: checking whether IRQ translation domains exist
configure:20814: cp conftest.c conftest.h build
configure:20817: $? = 0
configure:20820: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20823: $? = 0
configure:20826: test -s build/conftest.o
configure:20829: $? = 0
configure:20832: result: yes
configure:20852: checking whether zone_managed_pages() is available
configure:20890: cp conftest.c conftest.h build
configure:20893: $? = 0
configure:20896: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:20899: $? = 0
configure:20902: test -s build/conftest.o
configure:20905: $? = 0
configure:20908: result: yes
configure:21004: checking whether attribute_group->bin_attrs is available
configure:21043: cp conftest.c conftest.h build
configure:21046: $? = 0
configure:21049: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:119:17: warning: ‘ag’ is used uninitialized in this function [-Wuninitialized]
  119 |   ag->bin_attrs = NULL;
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21052: $? = 0
configure:21055: test -s build/conftest.o
configure:21058: $? = 0
configure:21061: result: yes
configure:21081: checking whether strscpy() is available
configure:21120: cp conftest.c conftest.h build
configure:21123: $? = 0
configure:21126: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21129: $? = 0
configure:21132: test -s build/conftest.o
configure:21135: $? = 0
configure:21208: result: yes
configure:21218: checking whether dev_pm_set_driver_flags() is available
configure:21256: cp conftest.c conftest.h build
configure:21259: $? = 0
configure:21262: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21265: $? = 0
configure:21268: test -s build/conftest.o
configure:21271: $? = 0
configure:21274: result: yes
configure:21295: checking whether alloc_ordered_workqueue() is available
configure:21333: cp conftest.c conftest.h build
configure:21336: $? = 0
configure:21339: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21342: $? = 0
configure:21345: test -s build/conftest.o
configure:21348: $? = 0
configure:21351: result: yes
configure:21372: checking whether pm_genpd_remove_device() wants 2 arguments
configure:21410: cp conftest.c conftest.h build
configure:21413: $? = 0
configure:21416: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:122:3: error: too many arguments to function ‘pm_genpd_remove_device’
  122 |   pm_genpd_remove_device(NULL, NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:116:
./include/linux/pm_domain.h:224:19: note: declared here
  224 | static inline int pm_genpd_remove_device(struct device *dev)
      |                   ^~~~~~~~~~~~~~~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:21419: $? = 2
configure:21422: test -s build/conftest.o
configure:21425: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| 
| 
| 		#include <linux/pm_domain.h>
| 
| int
| main (void)
| {
| 
| 		pm_genpd_remove_device(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:21438: result: no
configure:21449: checking whether si_mem_available() is available
configure:21488: cp conftest.c conftest.h build
configure:21491: $? = 0
configure:21494: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21497: $? = 0
configure:21500: test -s build/conftest.o
configure:21503: $? = 0
configure:21576: result: yes
configure:21586: checking whether drm_driver->gem_free_object_unlock() is available
configure:21632: cp conftest.c conftest.h build
configure:21635: $? = 0
configure:21638: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21641: $? = 0
configure:21644: test -s build/conftest.o
configure:21647: $? = 0
configure:21650: result: yes
configure:21685: checking whether WQ_HIGHPRI is available
configure:21723: cp conftest.c conftest.h build
configure:21726: $? = 0
configure:21729: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:124:16: warning: unused variable ‘flags’ [-Wunused-variable]
  124 |   unsigned int flags = WQ_HIGHPRI;
      |                ^~~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21732: $? = 0
configure:21735: test -s build/conftest.o
configure:21738: $? = 0
configure:21741: result: yes
configure:21761: checking whether __poll_t is available
configure:21799: cp conftest.c conftest.h build
configure:21802: $? = 0
configure:21805: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:125:12: warning: unused variable ‘mask’ [-Wunused-variable]
  125 |   __poll_t mask = 0;
      |            ^~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21808: $? = 0
configure:21811: test -s build/conftest.o
configure:21814: $? = 0
configure:21817: result: yes
configure:21837: checking whether hw_perf_event->conf is available
configure:21876: cp conftest.c conftest.h build
configure:21879: $? = 0
configure:21882: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21885: $? = 0
configure:21888: test -s build/conftest.o
configure:21891: $? = 0
configure:21894: result: yes
configure:21914: checking whether interval_tree_insert have struct rb_root_cached
configure:21953: cp conftest.c conftest.h build
configure:21956: $? = 0
configure:21959: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:21962: $? = 0
configure:21965: test -s build/conftest.o
configure:21968: $? = 0
configure:21971: result: yes
configure:21991: checking whether seq_hex_dump() is available
configure:22030: cp conftest.c conftest.h build
configure:22033: $? = 0
configure:22036: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22039: $? = 0
configure:22042: test -s build/conftest.o
configure:22045: $? = 0
configure:22118: result: yes
configure:22128: checking whether idr_remove return void pointer
configure:22167: cp conftest.c conftest.h build
configure:22170: $? = 0
configure:22173: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22176: $? = 0
configure:22179: test -s build/conftest.o
configure:22182: $? = 0
configure:22185: result: yes
configure:22205: checking whether struct i2c_lock_operations is defined
configure:22243: cp conftest.c conftest.h build
configure:22246: $? = 0
configure:22249: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:130:30: warning: unused variable ‘drm_dp_i2c_lock_ops’ [-Wunused-variable]
  130 |   struct i2c_lock_operations drm_dp_i2c_lock_ops;
      |                              ^~~~~~~~~~~~~~~~~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22252: $? = 0
configure:22255: test -s build/conftest.o
configure:22258: $? = 0
configure:22261: result: yes
configure:22281: checking whether down_write_killable() is available
configure:22320: cp conftest.c conftest.h build
configure:22323: $? = 0
configure:22326: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:131:3: error: ignoring return value of ‘down_write_killable’, declared with attribute warn_unused_result [-Werror=unused-result]
  131 |   down_write_killable(NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:22329: $? = 2
configure:22332: test -s build/conftest.o
configure:22335: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| 
| 
| 		#include <linux/rwsem.h>
| 
| int
| main (void)
| {
| 
| 		down_write_killable(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:22350: result: no
configure:22418: checking whether backlight_device_register() with 5args is available
configure:22456: cp conftest.c conftest.h build
configure:22459: $? = 0
configure:22462: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22465: $? = 0
configure:22468: test -s build/conftest.o
configure:22471: $? = 0
configure:22474: result: yes
configure:22494: checking whether backlight_properties->type is available
configure:22533: cp conftest.c conftest.h build
configure:22536: $? = 0
configure:22539: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22542: $? = 0
configure:22545: test -s build/conftest.o
configure:22548: $? = 0
configure:22551: result: yes
configure:22571: checking whether iommu_get_domain_for_dev() is available
configure:22610: cp conftest.c conftest.h build
configure:22613: $? = 0
configure:22616: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22619: $? = 0
configure:22622: test -s build/conftest.o
configure:22625: $? = 0
configure:22698: result: yes
configure:22708: checking whether vm_operations_struct->fault() wants 2 args
configure:22748: cp conftest.c conftest.h build
configure:22751: $? = 0
configure:22754: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:136:23: error: assignment to ‘vm_fault_t (*)(struct vm_fault *)’ {aka ‘unsigned int (*)(struct vm_fault *)’} from incompatible pointer type ‘int (*)(struct vm_area_struct *, struct vm_fault *)’ [-Werror=incompatible-pointer-types]
  136 |   ttm_bo_vm_ops.fault = fault;
      |                       ^
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:22757: $? = 2
configure:22760: test -s build/conftest.o
configure:22763: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| 
| 
| 		#include <linux/mm.h>
| 
| int
| main (void)
| {
| 
| 		int (*fault)(struct vm_area_struct *vma, struct vm_fault *vmf) = 0;
| 		struct vm_operations_struct ttm_bo_vm_ops;
| 		ttm_bo_vm_ops.fault = fault;
| 
|   ;
|   return 0;
| }
| 
configure:22776: result: no
configure:22786: checking whether vm_fault->{address/vam} is available
configure:22826: cp conftest.c conftest.h build
configure:22829: $? = 0
configure:22832: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22835: $? = 0
configure:22838: test -s build/conftest.o
configure:22841: $? = 0
configure:22844: result: yes
configure:22864: checking whether hash_for_each_xxx() drop the node parameter
configure:22908: cp conftest.c conftest.h build
configure:22911: $? = 0
configure:22914: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22917: $? = 0
configure:22920: test -s build/conftest.o
configure:22923: $? = 0
configure:22926: result: yes
configure:22946: checking whether amd_iommu_pc_supported() is available
configure:22987: cp conftest.c conftest.h build
configure:22990: $? = 0
configure:22993: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:22996: $? = 0
configure:22999: test -s build/conftest.o
configure:23002: $? = 0
configure:23075: result: yes
configure:23085: checking whether devm_memremap_pages() wants struct dev_pagemap
configure:23125: cp conftest.c conftest.h build
configure:23128: $? = 0
configure:23131: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23134: $? = 0
configure:23137: test -s build/conftest.o
configure:23140: $? = 0
configure:23143: result: yes
configure:23238: checking whether drm_audio_component_header is defined
configure:23247: result: yes
configure:23264: checking whether crtc->funcs->set_crc_source() wants 2 args
configure:23305: cp conftest.c conftest.h build
configure:23308: $? = 0
configure:23311: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23314: $? = 0
configure:23317: test -s build/conftest.o
configure:23320: $? = 0
configure:23323: result: yes
configure:23343: checking whether drm_driver->unload() return int
configure:23390: cp conftest.c conftest.h build
configure:23393: $? = 0
configure:23396: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:141:14: error: void value not ignored as it ought to be
  141 |      int i = foo->unload(NULL);
      |              ^~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:23399: $? = 2
configure:23402: test -s build/conftest.o
configure:23405: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| 
| 
| 					#include <drm/drmP.h>
| 
| int
| main (void)
| {
| 
| 					struct drm_driver *foo = NULL;
| 					int i = foo->unload(NULL);
| 					i++;
| 
|   ;
|   return 0;
| }
| 
configure:23418: result: no
configure:23439: checking whether drm_device->driver_features is available
configure:23478: cp conftest.c conftest.h build
configure:23481: $? = 0
configure:23484: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23487: $? = 0
configure:23490: test -s build/conftest.o
configure:23493: $? = 0
configure:23496: result: yes
configure:23517: checking whether drm_driver_feature DRIVER_ATOMIC is available
configure:23562: cp conftest.c conftest.h build
configure:23565: $? = 0
configure:23568: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:141:8: warning: unused variable ‘_’ [-Wunused-variable]
  141 |    int _ = DRIVER_ATOMIC;
      |        ^
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23571: $? = 0
configure:23574: test -s build/conftest.o
configure:23577: $? = 0
configure:23580: result: yes
configure:23614: checking whether drm_driver_feature DRIVER_SYNCOBJ_TIMELINE is available
configure:23659: cp conftest.c conftest.h build
configure:23662: $? = 0
configure:23665: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:142:8: warning: unused variable ‘_’ [-Wunused-variable]
  142 |    int _ = DRIVER_SYNCOBJ_TIMELINE;
      |        ^
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23668: $? = 0
configure:23671: test -s build/conftest.o
configure:23674: $? = 0
configure:23677: result: yes
configure:23711: checking whether drm_driver_feature DRIVER_IRQ_SHARED is available
configure:23756: cp conftest.c conftest.h build
configure:23759: $? = 0
configure:23762: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:12: error: ‘DRIVER_IRQ_SHARED’ undeclared (first use in this function)
  143 |    int _ = DRIVER_IRQ_SHARED;
      |            ^~~~~~~~~~~~~~~~~
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:12: note: each undeclared identifier is reported only once for each function it appears in
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:8: warning: unused variable ‘_’ [-Wunused-variable]
  143 |    int _ = DRIVER_IRQ_SHARED;
      |        ^
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:23765: $? = 2
configure:23768: test -s build/conftest.o
configure:23771: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| 
| 
| 			#include <drm/drmP.h>
| 
| int
| main (void)
| {
| 
| 			int _ = DRIVER_IRQ_SHARED;
| 
|   ;
|   return 0;
| }
| 
configure:23784: result: no
configure:23805: checking whether drm_driver_feature DRIVER_PRIME is available
configure:23850: cp conftest.c conftest.h build
configure:23853: $? = 0
configure:23856: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:12: error: ‘DRIVER_PRIME’ undeclared (first use in this function); did you mean ‘DRIVER_PCI_DMA’?
  143 |    int _ = DRIVER_PRIME;
      |            ^~~~~~~~~~~~
      |            DRIVER_PCI_DMA
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:12: note: each undeclared identifier is reported only once for each function it appears in
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:143:8: warning: unused variable ‘_’ [-Wunused-variable]
  143 |    int _ = DRIVER_PRIME;
      |        ^
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:23859: $? = 2
configure:23862: test -s build/conftest.o
configure:23865: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| 
| 
| 			#include <drm/drmP.h>
| 
| int
| main (void)
| {
| 
| 			int _ = DRIVER_PRIME;
| 
|   ;
|   return 0;
| }
| 
configure:23878: result: no
configure:23899: checking whether drm_dev_unplug() is available
configure:23946: cp conftest.c conftest.h build
configure:23949: $? = 0
configure:23952: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:23955: $? = 0
configure:23958: test -s build/conftest.o
configure:23961: $? = 0
configure:24034: result: yes
configure:24058: checking whether drm_atomic_helper_shutdown() is available
configure:24097: cp conftest.c conftest.h build
configure:24100: $? = 0
configure:24103: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24106: $? = 0
configure:24109: test -s build/conftest.o
configure:24112: $? = 0
configure:24185: result: yes
configure:24196: checking whether drm_dp_mst_allocate_vcpi() has p,p,i,i interface
configure:24234: cp conftest.c conftest.h build
configure:24237: $? = 0
configure:24240: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24243: $? = 0
configure:24246: test -s build/conftest.o
configure:24249: $? = 0
configure:24252: result: yes
configure:24272: checking whether drm_dp_mst_{get,put}_port_malloc() is available
configure:24311: cp conftest.c conftest.h build
configure:24314: $? = 0
configure:24317: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24320: $? = 0
configure:24323: test -s build/conftest.o
configure:24326: $? = 0
configure:24329: result: yes
configure:24349: checking whether drm_dp_mst_connector_{early_unregister,late_register}() are available
configure:24388: cp conftest.c conftest.h build
configure:24391: $? = 0
configure:24394: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24397: $? = 0
configure:24400: test -s build/conftest.o
configure:24403: $? = 0
configure:24406: result: yes
configure:24430: checking whether drm_hdmi_avi_infoframe_from_display_mode() has p,p,p interface
configure:24472: cp conftest.c conftest.h build
configure:24475: $? = 0
configure:24478: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24481: $? = 0
configure:24484: test -s build/conftest.o
configure:24487: $? = 0
configure:24838: result: yes
configure:24848: checking whether drm_hdmi_vendor_infoframe_from_display_mode() has p,p,p interface
configure:24887: cp conftest.c conftest.h build
configure:24890: $? = 0
configure:24893: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:24896: $? = 0
configure:24899: test -s build/conftest.o
configure:24902: $? = 0
configure:24975: result: yes
configure:24985: checking whether struct drm_dp_mst_topology_cbs has hotplug member
configure:25024: cp conftest.c conftest.h build
configure:25027: $? = 0
configure:25030: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:152:13: error: ‘struct drm_dp_mst_topology_cbs’ has no member named ‘hotplug’
  152 |   dp_mst_cbs->hotplug(NULL);
      |             ^~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:25033: $? = 2
configure:25036: test -s build/conftest.o
configure:25039: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		struct drm_dp_mst_topology_cbs *dp_mst_cbs = NULL;
| 		dp_mst_cbs->hotplug(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:25052: result: no
configure:25063: checking whether drm_atomic_private_obj_init() has p,p,p,p interface
configure:25101: cp conftest.c conftest.h build
configure:25104: $? = 0
configure:25107: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25110: $? = 0
configure:25113: test -s build/conftest.o
configure:25116: $? = 0
configure:25119: result: yes
configure:25140: checking whether drm_fb_helper_lastclose() is available
configure:25187: cp conftest.c conftest.h build
configure:25190: $? = 0
configure:25193: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25196: $? = 0
configure:25199: test -s build/conftest.o
configure:25202: $? = 0
configure:25275: result: yes
configure:25299: checking drm_driver have set_busid
configure:25345: cp conftest.c conftest.h build
configure:25348: $? = 0
configure:25351: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:154:7: error: ‘struct drm_driver’ has no member named ‘set_busid’
  154 |    bar->set_busid(NULL, NULL);
      |       ^~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:25354: $? = 2
configure:25357: test -s build/conftest.o
configure:25360: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| 
| 
| 			#include <drm/drmP.h>
| 
| int
| main (void)
| {
| 
| 			struct drm_driver *bar = NULL;
| 			bar->set_busid(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:25373: result: no
configure:25394: checking whether drm_mm_insert_mode is available
configure:25432: cp conftest.c conftest.h build
configure:25435: $? = 0
configure:25438: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:153:27: warning: unused variable ‘mode’ [-Wunused-variable]
  153 |   enum drm_mm_insert_mode mode = DRM_MM_INSERT_BEST;
      |                           ^~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25441: $? = 0
configure:25444: test -s build/conftest.o
configure:25447: $? = 0
configure:25450: result: yes
configure:25471: checking whether struct drm_atomic_state have async_update
configure:25511: cp conftest.c conftest.h build
configure:25514: $? = 0
configure:25517: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25520: $? = 0
configure:25523: test -s build/conftest.o
configure:25526: $? = 0
configure:25529: result: yes
configure:25550: checking whether drm_atomic_nonblocking_commit() is available
configure:25589: cp conftest.c conftest.h build
configure:25592: $? = 0
configure:25595: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25598: $? = 0
configure:25601: test -s build/conftest.o
configure:25604: $? = 0
configure:25607: result: yes
configure:25628: checking whether drm_atomic_state_put() is available
configure:25666: cp conftest.c conftest.h build
configure:25669: $? = 0
configure:25672: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25675: $? = 0
configure:25678: test -s build/conftest.o
configure:25681: $? = 0
configure:25684: result: yes
configure:25704: checking whether drm_device->filelist_mutex is available
configure:25743: cp conftest.c conftest.h build
configure:25746: $? = 0
configure:25749: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:158:24: warning: ‘ddev’ is used uninitialized in this function [-Wuninitialized]
  158 |   ddev->filelist_mutex = ddev->filelist_mutex;
      |   ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25752: $? = 0
configure:25755: test -s build/conftest.o
configure:25758: $? = 0
configure:25761: result: yes
configure:25781: checking whether drm_connector_list_iter_begin is available
configure:25819: cp conftest.c conftest.h build
configure:25822: $? = 0
configure:25825: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25828: $? = 0
configure:25831: test -s build/conftest.o
configure:25834: $? = 0
configure:25837: result: yes
configure:25858: checking whether display_info->hdmi.scdc.scrambling are available
configure:25897: cp conftest.c conftest.h build
configure:25900: $? = 0
configure:25903: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25906: $? = 0
configure:25909: test -s build/conftest.o
configure:25912: $? = 0
configure:25915: result: yes
configure:25935: checking whether drm_connector_helper_funcs->atomic_check() wants struct drm_atomic_state arg
configure:25975: cp conftest.c conftest.h build
configure:25978: $? = 0
configure:25981: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:25984: $? = 0
configure:25987: test -s build/conftest.o
configure:25990: $? = 0
configure:25993: result: yes
configure:26013: checking whether drm_driver->gem_prime_export with p,i arg is available
configure:26052: cp conftest.c conftest.h build
configure:26055: $? = 0
configure:26058: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26061: $? = 0
configure:26064: test -s build/conftest.o
configure:26067: $? = 0
configure:26070: result: yes
configure:26090: checking whether linux/dma-resv.h is available
configure:26099: result: yes
configure:26105: checking whether dma_resv->seq is available
configure:26144: cp conftest.c conftest.h build
configure:26147: $? = 0
configure:26150: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:164:4: warning: ‘resv’ is used uninitialized in this function [-Wuninitialized]
  164 |    write_seqcount_begin(&resv->seq);
      |    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26153: $? = 0
configure:26156: test -s build/conftest.o
configure:26159: $? = 0
configure:26162: result: yes
configure:26347: checking whether mmu_notifier_synchronize() is available
configure:26385: cp conftest.c conftest.h build
configure:26388: $? = 0
configure:26391: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26394: $? = 0
configure:26397: test -s build/conftest.o
configure:26400: $? = 0
configure:26403: result: yes
configure:26422: checking whether mmu_notifier_put() is available
configure:26460: cp conftest.c conftest.h build
configure:26463: $? = 0
configure:26466: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26469: $? = 0
configure:26472: test -s build/conftest.o
configure:26475: $? = 0
configure:26478: result: yes
configure:26499: checking whether drm_connector_init_with_ddc() is available
configure:26537: cp conftest.c conftest.h build
configure:26540: $? = 0
configure:26543: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26546: $? = 0
configure:26549: test -s build/conftest.o
configure:26552: $? = 0
configure:26555: result: yes
configure:26575: checking whether ttm_buffer_object->base is available
configure:26614: cp conftest.c conftest.h build
configure:26617: $? = 0
configure:26620: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26623: $? = 0
configure:26626: test -s build/conftest.o
configure:26629: $? = 0
configure:26632: result: yes
configure:26652: checking whether drm_dp_mst_topology_mgr_resume() wants 2 args
configure:26691: cp conftest.c conftest.h build
configure:26694: $? = 0
configure:26697: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:169:9: error: too many arguments to function ‘drm_dp_mst_topology_mgr_resume’
  169 |   ret = drm_dp_mst_topology_mgr_resume(NULL, 0);
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:162:
./include/drm/drm_dp_mst_helper.h:645:1: note: declared here
  645 | drm_dp_mst_topology_mgr_resume(struct drm_dp_mst_topology_mgr *mgr);
      | ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:26700: $? = 2
configure:26703: test -s build/conftest.o
configure:26706: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		int ret;
| 		ret = drm_dp_mst_topology_mgr_resume(NULL, 0);
| 
|   ;
|   return 0;
| }
| 
configure:26719: result: no
configure:26729: checking whether drm_dp_mst_detect_port() wants p,p,p,p args
configure:26768: cp conftest.c conftest.h build
configure:26771: $? = 0
configure:26774: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:169:9: error: too many arguments to function ‘drm_dp_mst_detect_port’
  169 |   ret = drm_dp_mst_detect_port(NULL, NULL, NULL, NULL);
      |         ^~~~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:162:
./include/drm/drm_dp_mst_helper.h:606:27: note: declared here
  606 | enum drm_connector_status drm_dp_mst_detect_port(struct drm_connector *connector, struct drm_dp_mst_topology_mgr *mgr, struct drm_dp_mst_port *port);
      |                           ^~~~~~~~~~~~~~~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:26777: $? = 2
configure:26780: test -s build/conftest.o
configure:26783: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		int ret;
| 		ret = drm_dp_mst_detect_port(NULL, NULL, NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:26796: result: no
configure:26806: checking whether dma_buf dynamic_mapping is available
configure:26845: cp conftest.c conftest.h build
configure:26848: $? = 0
configure:26851: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:169:14: error: ‘struct dma_buf_ops’ has no member named ‘dynamic_mapping’
  169 |   dma_buf_ops->dynamic_mapping = TRUE;
      |              ^~
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:169:34: error: ‘TRUE’ undeclared (first use in this function)
  169 |   dma_buf_ops->dynamic_mapping = TRUE;
      |                                  ^~~~
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:169:34: note: each undeclared identifier is reported only once for each function it appears in
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:26854: $? = 2
configure:26857: test -s build/conftest.o
configure:26860: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| 
| 
| 		#include <linux/dma-buf.h>
| 
| int
| main (void)
| {
| 
| 		struct dma_buf_ops *dma_buf_ops = NULL;
| 		dma_buf_ops->dynamic_mapping = TRUE;
| 
|   ;
|   return 0;
| }
| 
configure:26873: result: no
configure:26883: checking whether struct drm_crtc_state->async_flip is available
configure:26922: cp conftest.c conftest.h build
configure:26925: $? = 0
configure:26928: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:26931: $? = 0
configure:26934: test -s build/conftest.o
configure:26937: $? = 0
configure:26940: result: yes
configure:26960: checking whether drm_gem_object_lookup() wants 2 args
configure:27002: cp conftest.c conftest.h build
configure:27005: $? = 0
configure:27008: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27011: $? = 0
configure:27014: test -s build/conftest.o
configure:27017: $? = 0
configure:27090: result: yes
configure:27101: checking whether drm_helper_force_disable_all() is available
configure:27139: cp conftest.c conftest.h build
configure:27142: $? = 0
configure:27145: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27148: $? = 0
configure:27151: test -s build/conftest.o
configure:27154: $? = 0
configure:27157: result: yes
configure:27177: checking whether DRM_AMDGPU_FENCE_TO_HANDLE is defined
configure:27217: cp conftest.c conftest.h build
configure:27220: $? = 0
configure:27223: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27226: $? = 0
configure:27229: test -s build/conftest.o
configure:27232: $? = 0
configure:27235: result: yes
configure:27255: checking whether drm_driver->gem_prime_res_obj() is available
configure:27294: cp conftest.c conftest.h build
configure:27297: $? = 0
configure:27300: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:173:8: error: ‘struct drm_driver’ has no member named ‘gem_prime_res_obj’; did you mean ‘gem_prime_export’?
  173 |   drv->gem_prime_res_obj(NULL);
      |        ^~~~~~~~~~~~~~~~~
      |        gem_prime_export
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:27303: $? = 2
configure:27306: test -s build/conftest.o
configure:27309: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| 
| 
| 		#include <drm/drm_drv.h>
| 
| int
| main (void)
| {
| 
| 		struct drm_driver *drv = NULL;
| 		drv->gem_prime_res_obj(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:27322: result: no
configure:27332: checking whether drm_gem_map_attach() wants 2 arguments
configure:27371: cp conftest.c conftest.h build
configure:27374: $? = 0
configure:27377: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27380: $? = 0
configure:27383: test -s build/conftest.o
configure:27386: $? = 0
configure:27459: result: yes
configure:27470: checking whether drm_get_format_info() is available
configure:27526: result: yes
configure:27536: checking whether linux/overflow.h is available
configure:27545: result: yes
configure:27562: checking whether linux/sched/mm.h is available
configure:27571: result: yes
configure:27588: checking whether linux/sched/task.h is available
configure:27597: result: yes
configure:27614: checking whether linux/sched/signal.h is available
configure:27623: result: yes
configure:27640: checking whether linux/nospec.h is available
configure:27649: result: yes
configure:27666: checking whether linux/kfifo-new.h is available
configure:27685: result: no
configure:27692: checking whether linux/bits.h is available
configure:27701: result: yes
configure:27718: checking whether linux/io-64-nonatomic-lo-hi.h is available
configure:27727: result: yes
configure:27744: checking whether asm/set_memory.h is available
configure:27787: cp conftest.c conftest.h build
configure:27790: $? = 0
configure:27793: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27796: $? = 0
configure:27799: test -s build/conftest.o
configure:27802: $? = 0
configure:27805: result: yes
configure:27825: checking whether asm/fpu/api.h is available
configure:27868: cp conftest.c conftest.h build
configure:27871: $? = 0
configure:27874: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:27877: $? = 0
configure:27880: test -s build/conftest.o
configure:27883: $? = 0
configure:27886: result: yes
configure:27906: checking whether sched/types.h is available
configure:27915: result: yes
configure:27932: checking whether INTERVAL_TREE_DEFINE() is defined
configure:27941: result: yes
configure:27960: checking whether drm/drm_irq.h is available
configure:27969: result: yes
configure:27986: checking whether drm/drm_connector.h is available
configure:27995: result: yes
configure:28012: checking whether drm/drm_encoder.h is available
configure:28021: result: yes
configure:28038: checking whether drm/drm_plane.h is available
configure:28047: result: yes
configure:28064: checking whether task_barrier.h is available
configure:28083: result: no
configure:28090: checking whether drm/drm_file.h is available
configure:28099: result: yes
configure:28116: checking whether drm/drm_auth.h is available
configure:28125: result: yes
configure:28142: checking whether drm/drm_print.h is available
configure:28151: result: yes
configure:28168: checking whether drm/drm_atomic_uapi.h is available
configure:28177: result: yes
configure:28194: checking whether drm/drm_util.h is available
configure:28203: result: yes
configure:28220: checking whether drm/drm_probe_helper.h is available
configure:28229: result: yes
configure:28246: checking whether drm/drm_drv.h is available
configure:28255: result: yes
configure:28272: checking whether drm/drm_device.h is available
configure:28281: result: yes
configure:28298: checking whether drmP.h is available
configure:28307: result: yes
configure:28324: checking whether drm/drm_vblank.h is available
configure:28333: result: yes
configure:28350: checking whether drm/drm_ioctl.h is available
configure:28359: result: yes
configure:28376: checking whether drm/drm_debugfs.h is available
configure:28385: result: yes
configure:28403: checking whether struct drm_connector_funcs has register members
configure:28442: cp conftest.c conftest.h build
configure:28445: $? = 0
configure:28448: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:28451: $? = 0
configure:28454: test -s build/conftest.o
configure:28457: $? = 0
configure:28460: result: yes
configure:28480: checking whether drm_dp_mst_dsc_aux_for_port() is available
configure:28519: cp conftest.c conftest.h build
configure:28522: $? = 0
configure:28525: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: implicit declaration of function ‘drm_dp_mst_dsc_aux_for_port’ [-Werror=implicit-function-declaration]
  202 |   drm_dp_mst_dsc_aux_for_port(NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:28528: $? = 2
configure:28531: test -s build/conftest.o
configure:28534: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_mst_dsc_aux_for_port(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:28549: result: no
configure:28617: checking whether drm_dp_mst_atomic_check() is available
configure:28656: cp conftest.c conftest.h build
configure:28659: $? = 0
configure:28662: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: ignoring return value of ‘drm_dp_mst_atomic_check’, declared with attribute warn_unused_result [-Werror=unused-result]
  202 |   drm_dp_mst_atomic_check(NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:28665: $? = 2
configure:28668: test -s build/conftest.o
configure:28671: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_mst_atomic_check(NULL);
| 
|   ;
|   return 0;
| }
| 
configure:28686: result: no
configure:28754: checking whether drm_dp_mst_atomic_enable_dsc() is available
configure:28793: cp conftest.c conftest.h build
configure:28796: $? = 0
configure:28799: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: implicit declaration of function ‘drm_dp_mst_atomic_enable_dsc’; did you mean ‘drm_dp_mst_atomic_check’? [-Werror=implicit-function-declaration]
  202 |   drm_dp_mst_atomic_enable_dsc(NULL, NULL, 0, 0, false);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |   drm_dp_mst_atomic_check
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:28802: $? = 2
configure:28805: test -s build/conftest.o
configure:28808: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_mst_atomic_enable_dsc(NULL, NULL, 0, 0, false);
| 
|   ;
|   return 0;
| }
| 
configure:28823: result: no
configure:28891: checking whether drm_dp_mst_add_affected_dsc_crtcs() is available
configure:28930: cp conftest.c conftest.h build
configure:28933: $? = 0
configure:28936: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: implicit declaration of function ‘drm_dp_mst_add_affected_dsc_crtcs’ [-Werror=implicit-function-declaration]
  202 |   drm_dp_mst_add_affected_dsc_crtcs(NULL, NULL);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:28939: $? = 2
configure:28942: test -s build/conftest.o
configure:28945: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_mst_add_affected_dsc_crtcs(NULL, NULL);
| 
|   ;
|   return 0;
| }
| 
configure:28960: result: no
configure:29028: checking whether drm_dp_calc_pbn_mode() wants three arguments
configure:29066: cp conftest.c conftest.h build
configure:29069: $? = 0
configure:29072: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: too many arguments to function ‘drm_dp_calc_pbn_mode’
  202 |   drm_dp_calc_pbn_mode(0, 0, 0);
      |   ^~~~~~~~~~~~~~~~~~~~
In file included from /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:196:
./include/drm/drm_dp_mst_helper.h:613:5: note: declared here
  613 | int drm_dp_calc_pbn_mode(int clock, int bpp);
      |     ^~~~~~~~~~~~~~~~~~~~
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:29075: $? = 2
configure:29078: test -s build/conftest.o
configure:29081: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_calc_pbn_mode(0, 0, 0);
| 
|   ;
|   return 0;
| }
| 
configure:29094: result: no
configure:29104: checking whether drm_dp_atomic_find_vcpi_slots() is available
configure:29144: cp conftest.c conftest.h build
configure:29147: $? = 0
configure:29150: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c: In function ‘main’:
/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.c:202:3: error: ignoring return value of ‘drm_dp_atomic_find_vcpi_slots’, declared with attribute warn_unused_result [-Werror=unused-result]
  202 |   drm_dp_atomic_find_vcpi_slots(NULL, NULL, NULL, 0);
      |   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
cc1: all warnings being treated as errors
make[1]: *** [scripts/Makefile.build:266: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o] Error 1
make: *** [Makefile:1690: /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build] Error 2
configure:29153: $? = 2
configure:29156: test -s build/conftest.o
configure:29159: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME "amdgpu-dkms"
| #define PACKAGE_TARNAME "amdgpu-dkms"
| #define PACKAGE_VERSION "19.40"
| #define PACKAGE_STRING "amdgpu-dkms 19.40"
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| #define HAVE_KALLSYMS_LOOKUP_NAME 1
| #define HAVE_IN_COMPAT_SYSCALL 1
| #define HAVE_KOBJ_TO_DEV 1
| #define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
| #define HAVE_DRM_NEED_SWIOTLB 1
| #define HAVE_DRM_CONNECTOR_PUT 1
| #define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
| #define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
| #define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
| #define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
| #define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
| #define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
| #define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
| #define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
| #define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
| #define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
| #define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
| #define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
| #define HAVE_DRM_GET_FORMAT_NAME_I_P 1
| #define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
| #define HAVE_DRM_IS_CURRENT_MASTER 1
| #define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
| #define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
| #define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
| #define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
| #define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
| #define HAVE_DRM_SEND_EVENT_LOCKED 1
| #define HAVE_DRM_COLOR_LUT 1
| #define HAVE_DRM_COLOR_LUT_SIZE 1
| #define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
| #define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
| #define HAVE_DRM_FB_HELPER_FILL_INFO 1
| #define HAVE_DRM_DEV_PUT 1
| #define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
| #define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
| #define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
| #define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
| #define HAVE_DRM_MM_PRINT 1
| #define HAVE_DRM_DEBUG_PRINTER 1
| #define HAVE_DRM_FB_HELPER_CFB_XX 1
| #define HAVE_FB_INFO_APERTURES 1
| #define HAVE_DRM_FB_HELPER_XX_FBI 1
| #define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
| #define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
| #define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
| #define HAVE_DRM_MODE_IS_420_XXX 1
| #define HAVE_FB_OPS_FB_DEBUG_XX 1
| #define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
| #define HAVE_DMA_FENCE_DEFINED 1
| #define HAVE_DMA_FENCE_SET_ERROR 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_REQUEST_FIRMWARE_DIRECT 1
| #define HAVE_KMAP_ATOMIC_ONE_ARG 1
| #define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
| #define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
| #define HAVE_KREF_READ 1
| #define HAVE_KTHREAD_PARK_XX 1
| #define HAVE___KTHREAD_SHOULD_PARK 1
| #define HAVE_LIST_BULK_MOVE_TAIL 1
| #define HAVE_KVCALLOC 1
| #define HAVE_KVFREE 1
| #define HAVE_KVMALLOC_ARRAY 1
| #define HAVE_KVZALLOC_KVMALLOC 1
| #define HAVE_MEMALLOC_NOFS_SAVE 1
| #define HAVE_MMGRAB 1
| #define HAVE_5ARGS_GET_USER_PAGES 1
| #define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
| #define HAVE_PFN_T 1
| #define HAVE_VMF_INSERT 1
| #define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
| #define HAVE_MM_RELEASE_PAGES_2ARGS 1
| #define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
| #define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
| #define HAVE_PCI_UPSTREAM_BRIDGE 1
| #define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
| #define HAVE_PCI_DEV_ID 1
| #define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
| #define HAVE_PTRACE_PARENT 1
| #define HAVE_REGISTER_SHRINKER_RETURN_INT 1
| #define HAVE_KSYS_SYNC_HELPER 1
| #define HAVE_KTIME_GET_RAW_NS 1
| #define HAVE_KTIME_GET_BOOTTIME_NS 1
| #define HAVE_KTIME_GET_NS 1
| #define HAVE_KTIME_GET_REAL_SECONDS 1
| #define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
| #define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
| #define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
| #define HAVE_WAIT_QUEUE_ENTRY 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
| #define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
| #define HAVE_DRM_FRAMEBUFFER_FORMAT 1
| #define HAVE_TIMER_SETUP 1
| #define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
| #define HAVE_PCI_PCIE_TYPE 1
| #define HAVE_DMA_FENCE_GET_STUB 1
| #define HAVE_2ARGS_INVALIDATE_RANGE_START 1
| #define HAVE_IRQ_DOMAIN 1
| #define HAVE_ZONE_MANAGED_PAGES 1
| #define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
| #define HAVE_STRSCPY 1
| #define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
| #define HAVE_ALLOC_ORDERED_WORKQUEUE 1
| #define HAVE_SI_MEM_AVAILABLE 1
| #define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
| #define HAVE_WQ_HIGHPRI 1
| #define HAVE_TYPE__POLL_T 1
| #define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
| #define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
| #define HAVE_SEQ_HEX_DUMP 1
| #define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
| #define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
| #define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
| #define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
| #define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
| #define HAVE_VM_FAULT_ADDRESS_VMA 1
| #define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
| #define HAVE_AMD_IOMMU_PC_SUPPORTED 1
| #define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
| #define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
| #define HAVE_2ARGS_SET_CRC_SOURCE 1
| #define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
| #define HAVE_DRM_DRV_DRIVER_ATOMIC 1
| #define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
| #define HAVE_DRM_DEV_UNPLUG 1
| #define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
| #define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
| #define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
| #define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
| #define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
| #define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
| #define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
| #define HAVE_DRM_FB_HELPER_LASTCLOSE 1
| #define HAVE_DRM_MM_INSERT_MODE 1
| #define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
| #define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
| #define HAVE_DRM_ATOMIC_STATE_PUT 1
| #define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
| #define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
| #define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
| #define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
| #define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
| #define HAVE_DMA_RESV_H 1
| #define HAVE_DMA_RESV_SEQ 1
| #define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
| #define HAVE_MMU_NOTIFIER_PUT 1
| #define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
| #define HAVE_DRM_GEM_OBJECT_RESV 1
| #define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
| #define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
| #define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
| #define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
| #define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
| #define HAVE_DRM_GET_FORMAT_INFO 1
| #define HAVE_OVERFLOW_H 1
| #define HAVE_MM_H 1
| #define HAVE_TASK_H 1
| #define HAVE_SIGNAL_H 1
| #define HAVE_LINUX_NOSPEC_H 1
| #define HAVE_LINUX_BITS_H 1
| #define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
| #define HAVE_SET_MEMORY_H 1
| #define HAVE_ASM_FPU_API_H 1
| #define HAVE_SCHED_TYPES_H 1
| #define HAVE_INTERVAL_TREE_DEFINE 1
| #define HAVE_DRM_IRQ_H 1
| #define HAVE_DRM_CONNECTOR_H 1
| #define HAVE_DRM_ENCODER_H 1
| #define HAVE_DRM_PLANE_H 1
| #define HAVE_DRM_FILE_H 1
| #define HAVE_DRM_AUTH_H 1
| #define HAVE_DRM_PRINT_H 1
| #define HAVE_DRM_ATOMIC_UAPI_HEADER 1
| #define HAVE_DRM_UTIL_H 1
| #define HAVE_DRM_PROBE_HELPER_H 1
| #define HAVE_DRM_DRV_H 1
| #define HAVE_DRM_DEVICE_H 1
| #define HAVE_DRMP_H 1
| #define HAVE_DRM_VBLANK_H 1
| #define HAVE_DRM_IOCTL_H 1
| #define HAVE_DRM_DEBUGFS_H 1
| #define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
| 
| 
| 		#include <drm/drm_dp_mst_helper.h>
| 
| int
| main (void)
| {
| 
| 		drm_dp_atomic_find_vcpi_slots(NULL, NULL, NULL, 0);
| 
|   ;
|   return 0;
| }
| 
configure:29178: result: no
configure:29327: checking whether mul_u32_u32 is available
configure:29365: cp conftest.c conftest.h build
configure:29368: $? = 0
configure:29371: make modules -C /usr/src/linux-5.4.25-ot EXTRA_CFLAGS=-Werror -Wno-error=uninitialized -Wno-error=unused-variable M=/usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build   KBUILD_MODPOST_NOFINAL=1 KBUILD_MODPOST_WARN=1
WARNING: modpost: missing MODULE_LICENSE() in /usr/local/oiledmachine-overlay/sys-kernel/rock-dkms/files/build/conftest.o
see include/linux/module.h for more information
configure:29374: $? = 0
configure:29377: test -s build/conftest.o
configure:29380: $? = 0
configure:29383: result: yes
configure:29528: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by amdgpu-dkms config.status 19.40, which was
generated by GNU Autoconf 2.69.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status 

on archlinux

config.status:852: creating config/config.h
config.status:942: config/config.h is unchanged

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_c_compiler_gnu=yes
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_objext=o
ac_cv_path_install='/usr/bin/install -c'
ac_cv_prog_ac_ct_CC=gcc
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes

## ----------------- ##
## Output variables. ##
## ----------------- ##

CC='gcc'
CFLAGS='-g -O2'
CPPFLAGS=''
DEFS='-DHAVE_CONFIG_H'
ECHO_C=''
ECHO_N='-n'
ECHO_T=''
EXEEXT=''
INSTALL_DATA='${INSTALL} -m 644'
INSTALL_PROGRAM='${INSTALL}'
INSTALL_SCRIPT='${INSTALL}'
KERNEL_MAKE=''
LDFLAGS=''
LIBOBJS=''
LIBS=''
LINUX='/usr/src/linux-5.4.25-ot'
LINUX_OBJ='/usr/src/linux-5.4.25-ot'
LINUX_SYMBOLS='Module.symvers'
LINUX_VERSION='5.4.25-ot'
LTLIBOBJS=''
OBJEXT='o'
PACKAGE_BUGREPORT=''
PACKAGE_NAME='amdgpu-dkms'
PACKAGE_STRING='amdgpu-dkms 19.40'
PACKAGE_TARNAME='amdgpu-dkms'
PACKAGE_URL=''
PACKAGE_VERSION='19.40'
PATH_SEPARATOR=':'
SHELL='/bin/sh'
ac_ct_CC='gcc'
bindir='${exec_prefix}/bin'
build_alias=''
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
dvidir='${docdir}'
exec_prefix='${prefix}'
host_alias=''
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME "amdgpu-dkms"
#define PACKAGE_TARNAME "amdgpu-dkms"
#define PACKAGE_VERSION "19.40"
#define PACKAGE_STRING "amdgpu-dkms 19.40"
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL ""
#define HAVE_KALLSYMS_LOOKUP_NAME 1
#define HAVE_IN_COMPAT_SYSCALL 1
#define HAVE_KOBJ_TO_DEV 1
#define HAVE_DRM_ENCODER_FIND_VALID_WITH_FILE 1
#define HAVE_DRM_NEED_SWIOTLB 1
#define HAVE_DRM_CONNECTOR_PUT 1
#define HAVE_DRM_CONNECTOR_UPDATE_EDID_PROPERTY 1
#define HAVE_DRM_CONNECTOR_ATTACH_ENCODER 1
#define HAVE_DRM_CONNECTOR_SET_PATH_PROPERTY 1
#define HAVE_DRM_DP_CEC_CORRELATION_FUNCTIONS 1
#define HAVE_DRM_MODESET_LOCK_ALL_CTX 1
#define HAVE_DRM_ATOMIC_HELPER_DISABLE_ALL 1
#define HAVE_DRM_ATOMIC_HELPER_DUPLICATE_STATE 1
#define HAVE_DRM_ATOMIC_HELPER_SUSPEND_RESUME 1
#define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS_PIP 1
#define HAVE_DRM_FB_HELPER_REMOVE_CONFLICTING_PCI_FRAMEBUFFERS 1
#define HAVE_DRM_ENCODER_INIT_VALID_WITH_NAME 1
#define HAVE_DRM_CRTC_INIT_WITH_PLANES_VALID_WITH_NAME 1
#define HAVE_DRM_UNIVERSAL_PLANE_INIT_9ARGS 1
#define HAVE_DRM_GET_FORMAT_NAME_I_P 1
#define HAVE_DRM_GEM_OBJECT_PUT_UNLOCKED 1
#define HAVE_DRM_IS_CURRENT_MASTER 1
#define HAVE_DRM_ATOMIC_HELPER_CONNECTOR_RESET 1
#define HAVE_CHUNK_ID_SYNOBJ_IN_OUT 1
#define HAVE_AMDGPU_CHUNK_ID_SCHEDULED_DEPENDENCIES 1
#define HAVE_CHUNK_ID_SYNCOBJ_TIMELINE_WAIT_SIGNAL 1
#define HAVE_DRM_SYNCOBJ_FIND_FENCE 1
#define HAVE_DRM_SYNCOBJ_FIND_FENCE_5ARGS 1
#define HAVE_DRM_SEND_EVENT_LOCKED 1
#define HAVE_DRM_COLOR_LUT 1
#define HAVE_DRM_COLOR_LUT_SIZE 1
#define HAVE_DRM_ATOMIC_GET_CRTC_STATE 1
#define HAVE_DRM_ATOMIC_GET_NEW_PLANE_STATE 1
#define HAVE_DRM_FB_HELPER_FILL_INFO 1
#define HAVE_DRM_DEV_PUT 1
#define HAVE_GET_SCANOUT_POSITION_RETURN_BOOL 1
#define HAVE_VGA_USE_UNSIGNED_INT_PIPE 1
#define HAVE_GET_VBLANK_TIMESTAMP_IN_DRM_DRIVER_HAS_KTIME_T 1
#define HAVE_DRM_CALC_VBLTIMESTAMP_FROM_SCANOUTPOS_USE_KTIMER_T_ARG 1
#define HAVE_DRM_MM_PRINT 1
#define HAVE_DRM_DEBUG_PRINTER 1
#define HAVE_DRM_FB_HELPER_CFB_XX 1
#define HAVE_FB_INFO_APERTURES 1
#define HAVE_DRM_FB_HELPER_XX_FBI 1
#define HAVE_DRM_FB_HELPER_SET_SUSPEND_UNLOCKED 1
#define HAVE_DRM_ATOMIC_HELPER_UPDATE_LEGACY_MODESET_STATE 1
#define HAVE_DRM_CRTC_ACCURATE_VBLANK_COUNT 1
#define HAVE_DRM_MODE_IS_420_XXX 1
#define HAVE_FB_OPS_FB_DEBUG_XX 1
#define HAVE_DRM_VMA_NODE_VERIFY_ACCESS_HAS_DRM_FILE 1
#define HAVE_DMA_FENCE_DEFINED 1
#define HAVE_DMA_FENCE_SET_ERROR 1
#define HAVE_DMA_FENCE_GET_STUB 1
#define HAVE_REQUEST_FIRMWARE_DIRECT 1
#define HAVE_KMAP_ATOMIC_ONE_ARG 1
#define HAVE_HWMON_DEVICE_REGISTER_WITH_GROUPS 1
#define HAVE_ARCH_IO_RESERVE_FREE_MEMTYPE_WC 1
#define HAVE_KREF_READ 1
#define HAVE_KTHREAD_PARK_XX 1
#define HAVE___KTHREAD_SHOULD_PARK 1
#define HAVE_LIST_BULK_MOVE_TAIL 1
#define HAVE_KVCALLOC 1
#define HAVE_KVFREE 1
#define HAVE_KVMALLOC_ARRAY 1
#define HAVE_KVZALLOC_KVMALLOC 1
#define HAVE_MEMALLOC_NOFS_SAVE 1
#define HAVE_MMGRAB 1
#define HAVE_5ARGS_GET_USER_PAGES 1
#define HAVE_8ARGS_GET_USER_PAGES_REMOTE 1
#define HAVE_PFN_T 1
#define HAVE_VMF_INSERT 1
#define HAVE_MMU_NOTIFIER_RANGE_BLOCKABLE 1
#define HAVE_MM_RELEASE_PAGES_2ARGS 1
#define HAVE_PCIE_GET_SPEED_AND_WIDTH_CAP 1
#define HAVE_PCIE_ENABLE_ATOMIC_OPS_TO_ROOT 1
#define HAVE_PCI_UPSTREAM_BRIDGE 1
#define HAVE_PCIE_BANDWIDTH_AVAILABLE 1
#define HAVE_PCI_DEV_ID 1
#define HAVE_PERF_EVENT_UPDATE_USERPAGE 1
#define HAVE_PTRACE_PARENT 1
#define HAVE_REGISTER_SHRINKER_RETURN_INT 1
#define HAVE_KSYS_SYNC_HELPER 1
#define HAVE_KTIME_GET_RAW_NS 1
#define HAVE_KTIME_GET_BOOTTIME_NS 1
#define HAVE_KTIME_GET_NS 1
#define HAVE_KTIME_GET_REAL_SECONDS 1
#define HAVE_ACCESS_OK_WITH_TWO_ARGUMENTS 1
#define HAVE_VGA_SWITCHEROO_REGISTER_HANDLER_PC_E 1
#define HAVE_VGA_SWITCHEROO_HANDLER_FLAGS_T_ENUM 1
#define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_P_P_B 1
#define HAVE_VGA_SWITCHEROO_REGISTER_CLIENT_OPS 1
#define HAVE_WAIT_QUEUE_ENTRY 1
#define HAVE_SYSTEM_HIGHPRI_WQ_EXPORTED 1
#define HAVE_SYSTEM_HIGHPRI_WQ_DECLARED 1
#define HAVE_DRM_FRAMEBUFFER_FORMAT 1
#define HAVE_TIMER_SETUP 1
#define HAVE_PCI_IS_THUNDERBOLD_ATTACHED 1
#define HAVE_PCI_PCIE_TYPE 1
#define HAVE_DMA_FENCE_GET_STUB 1
#define HAVE_2ARGS_INVALIDATE_RANGE_START 1
#define HAVE_IRQ_DOMAIN 1
#define HAVE_ZONE_MANAGED_PAGES 1
#define HAVE_ATTRIBUTE_GROUP_BIN_ATTRS 1
#define HAVE_STRSCPY 1
#define HAVE_DEV_PM_SET_DRIVER_FLAGS 1
#define HAVE_ALLOC_ORDERED_WORKQUEUE 1
#define HAVE_SI_MEM_AVAILABLE 1
#define HAVE_GEM_FREE_OBJECT_UNLOCKED_IN_DRM_DRIVER 1
#define HAVE_WQ_HIGHPRI 1
#define HAVE_TYPE__POLL_T 1
#define HAVE_HW_PERF_EVENT_CONF_MEMBER 1
#define HAVE_TREE_INSERT_HAVE_RB_ROOT_CACHED 1
#define HAVE_SEQ_HEX_DUMP 1
#define HAVE_IDR_REMOVE_RETURN_VOID_POINTER 1
#define HAVE_I2C_LOCK_OPERATIONS_STRUCT 1
#define HAVE_BACKLIGHT_DEVICE_REGISTER_WITH_5ARGS 1
#define HAVE_BACKLIGHT_PROPERTIES_TYPE 1
#define HAVE_IOMMU_GET_DOMAIN_FOR_DEV 1
#define HAVE_VM_FAULT_ADDRESS_VMA 1
#define HAVE_HASH_FOR_EACH_XXX_DROP_NODE 1
#define HAVE_AMD_IOMMU_PC_SUPPORTED 1
#define HAVE_DEVM_MEMREMAP_PAGES_DEV_PAGEMAP 1
#define HAVE_DRM_AUDIO_COMPONENT_HEADER 1
#define HAVE_2ARGS_SET_CRC_SOURCE 1
#define HAVE_DRM_DEVICE_DRIVER_FEATURES 1
#define HAVE_DRM_DRV_DRIVER_ATOMIC 1
#define HAVE_DRM_DRV_DRIVER_SYNCOBJ_TIMELINE 1
#define HAVE_DRM_DEV_UNPLUG 1
#define HAVE_DRM_ATOMIC_HELPER_SHUTDOWN 1
#define HAVE_DRM_DP_MST_ALLOCATE_VCPI_P_P_I_I 1
#define HAVE_DRM_DP_MST_GET_PUT_PORT_MALLOC 1
#define HAVE_DP_MST_CONNECTOR_EARLY_UNREGISTER 1
#define HAVE_DP_MST_CONNECTOR_LATE_REGISTER 1
#define HAVE_DRM_HDMI_AVI_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
#define HAVE_DRM_HDMI_VENDOR_INFOFRAME_FROM_DISPLAY_MODE_P_P_P 1
#define HAVE_DRM_ATOMIC_PRIVATE_OBJ_INIT_P_P_P_P 1
#define HAVE_DRM_FB_HELPER_LASTCLOSE 1
#define HAVE_DRM_MM_INSERT_MODE 1
#define HAVE_DRM_ATOMIC_STATE_ASYNC_UPDATE 1
#define HAVE_DRM_ATOMIC_NONBLOCKING_COMMIT 1
#define HAVE_DRM_ATOMIC_STATE_PUT 1
#define HAVE_DRM_DEVICE_FILELIST_MUTEX 1
#define HAVE_DRM_CONNECTOR_LIST_ITER_BEGIN 1
#define HAVE_DRM_DISPLAY_INFO_HDMI_SCDC_SCRAMBLING 1
#define HAVE_DRM_CONNECTOR_HELPER_FUNCS_ATOMIC_CHECK_ARG_DRM_ATOMIC_STATE 1
#define HAVE_DRM_DRV_GEM_PRIME_EXPORT_PI 1
#define HAVE_DMA_RESV_H 1
#define HAVE_DMA_RESV_SEQ 1
#define HAVE_MMU_NOTIFIER_SYNCHRONIZE 1
#define HAVE_MMU_NOTIFIER_PUT 1
#define HAVE_DRM_CONNECTOR_INIT_WITH_DDC 1
#define HAVE_DRM_GEM_OBJECT_RESV 1
#define HAVE_STRUCT_DRM_CRTC_STATE_ASYNC_FLIP 1
#define HAVE_DRM_GEM_OBJECT_LOOKUP_2ARGS 1
#define HAVE_DRM_HELPER_FORCE_DISABLE_ALL 1
#define HAVE_DRM_AMDGPU_FENCE_TO_HANDLE 1
#define HAVE_DRM_GEM_MAP_ATTACH_2ARGS 1
#define HAVE_DRM_GET_FORMAT_INFO 1
#define HAVE_OVERFLOW_H 1
#define HAVE_MM_H 1
#define HAVE_TASK_H 1
#define HAVE_SIGNAL_H 1
#define HAVE_LINUX_NOSPEC_H 1
#define HAVE_LINUX_BITS_H 1
#define HAVE_LINUX_IO_64_NONATOMIC_LO_HI_H 1
#define HAVE_SET_MEMORY_H 1
#define HAVE_ASM_FPU_API_H 1
#define HAVE_SCHED_TYPES_H 1
#define HAVE_INTERVAL_TREE_DEFINE 1
#define HAVE_DRM_IRQ_H 1
#define HAVE_DRM_CONNECTOR_H 1
#define HAVE_DRM_ENCODER_H 1
#define HAVE_DRM_PLANE_H 1
#define HAVE_DRM_FILE_H 1
#define HAVE_DRM_AUTH_H 1
#define HAVE_DRM_PRINT_H 1
#define HAVE_DRM_ATOMIC_UAPI_HEADER 1
#define HAVE_DRM_UTIL_H 1
#define HAVE_DRM_PROBE_HELPER_H 1
#define HAVE_DRM_DRV_H 1
#define HAVE_DRM_DEVICE_H 1
#define HAVE_DRMP_H 1
#define HAVE_DRM_VBLANK_H 1
#define HAVE_DRM_IOCTL_H 1
#define HAVE_DRM_DEBUGFS_H 1
#define HAVE_DRM_CONNECTOR_FUNCS_REGISTER 1
#define HAVE_MUL_U32_U32 1

configure: exit 0
